<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dream Lingua QT</title>
  <link rel="stylesheet" href="style.css">
  <!-- Live2D Cubism Core SDK (å¿…é¡»æœ€å…ˆåŠ è½½!) -->
  <script src="./live2dcubismcore.min.js" onload="console.log('âœ“ Cubism Core SDK åŠ è½½å®Œæˆ, Live2DCubismCore:', typeof Live2DCubismCore)"></script>
  
  <!-- PIXI.js -->
  <script src="../node_modules/pixi.js/dist/pixi.min.js" onload="console.log('âœ“ PIXI.js åŠ è½½å®Œæˆ, ç‰ˆæœ¬:', PIXI.VERSION)"></script>
  
  <!-- PIXI Live2D Display Plugin -->
  <script src="../node_modules/pixi-live2d-display/dist/cubism4.min.js" onload="console.log('âœ“ Live2D æ’ä»¶åŠ è½½å®Œæˆ, PIXI.live2d:', typeof PIXI.live2d)"></script>
  
  <script>
    // éªŒè¯æ‰€æœ‰åº“æ˜¯å¦æ­£ç¡®åŠ è½½
    setTimeout(() => {
      console.log('=== åº“åŠ è½½çŠ¶æ€éªŒè¯ ===');
      console.log('Live2DCubismCore:', typeof Live2DCubismCore !== 'undefined' ? 'âœ“' : 'âœ—');
      console.log('PIXI:', typeof PIXI !== 'undefined' ? 'âœ“ v' + PIXI.VERSION : 'âœ—');
      console.log('PIXI.live2d:', typeof PIXI !== 'undefined' && typeof PIXI.live2d !== 'undefined' ? 'âœ“' : 'âœ—');
      
      if (typeof PIXI !== 'undefined' && typeof PIXI.live2d !== 'undefined') {
        console.log('PIXI.live2d å¯ç”¨æ–¹æ³•:', Object.keys(PIXI.live2d));
        console.log('Live2DModel:', typeof PIXI.live2d.Live2DModel);
      }
    }, 100);
  </script>
</head>
<body>
  <!-- ä¸»å®¹å™¨ -->
  <div id="app">
    <!-- é¡¶éƒ¨æ ‡é¢˜æ  -->
    <div id="header">
      <div class="logo">
        <span class="logo-icon">ğŸŒ¸</span>
        <span class="logo-text">Dream Lingua</span>
      </div>
      <div class="header-right">
        <div class="status-badge">
          <span class="status-dot ready"></span>
          <span class="status-text">å°±ç»ª</span>
        </div>
        <div class="window-controls">
          <button class="control-btn minimize" id="minimize-btn" title="æœ€å°åŒ–">âˆ’</button>
          <button class="control-btn close" id="close-btn" title="å…³é—­">Ã—</button>
        </div>
      </div>
    </div>

    <!-- ä¸»å†…å®¹åŒº -->
    <div id="main-content">
      <!-- é¦–é¡µ (é»˜è®¤æ˜¾ç¤º) -->
      <div id="home-page" class="page active">
        <div class="hero-section">
          <h1 class="hero-title">
            <span class="gradient-text">Dream Lingua</span>
          </h1>
          <p class="hero-subtitle">æ™ºèƒ½ç¿»è¯‘åŠ©æ‰‹ Â· AI é©±åŠ¨ Â· æœ¬åœ°éšç§</p>
          
          <!-- å¿«æ·é”®å¡ç‰‡ -->
          <div class="shortcut-card">
            <div class="shortcut-icon">âŒ¨ï¸</div>
            <div class="shortcut-info">
              <div class="shortcut-label">å¿«æ·é”®</div>
              <div class="shortcut-key">
                <kbd>Cmd</kbd> + <kbd>Shift</kbd> + <kbd>E</kbd>
              </div>
            </div>
          </div>

          <!-- ä½¿ç”¨æ­¥éª¤ -->
          <div class="steps">
            <div class="step-item">
              <div class="step-number">1</div>
              <div class="step-text">é€‰ä¸­æ–‡æœ¬</div>
            </div>
            <div class="step-arrow">â†’</div>
            <div class="step-item">
              <div class="step-number">2</div>
              <div class="step-text">æŒ‰å¿«æ·é”®</div>
            </div>
            <div class="step-arrow">â†’</div>
            <div class="step-item">
              <div class="step-number">3</div>
              <div class="step-text">æŸ¥çœ‹ç¿»è¯‘</div>
            </div>
          </div>

          <!-- ç‰¹æ€§æ ‡ç­¾ -->
          <div class="features">
            <div class="feature-tag">
              <span class="tag-icon">ğŸ”’</span>
              <span>æœ¬åœ°AI</span>
            </div>
            <div class="feature-tag">
              <span class="tag-icon">âš¡</span>
              <span>ç§’çº§å“åº”</span>
            </div>
            <div class="feature-tag">
              <span class="tag-icon">ğŸŒ</span>
              <span>ä¸­è‹±äº’è¯‘</span>
            </div>
          </div>
        </div>

        <!-- è§’è‰²å±•ç¤ºåŒº -->
        <div class="character-showcase">
          <canvas id="home-live2d" width="200" height="200"></canvas>
          <div class="character-bubble">
            <p>ä½ å¥½å‘€!æˆ‘æ˜¯ä½ çš„ç¿»è¯‘å°åŠ©æ‰‹~</p>
          </div>
        </div>
      </div>

      <!-- ç¿»è¯‘é¡µé¢ (ç¿»è¯‘æ—¶æ˜¾ç¤º) -->
      <div id="translate-page" class="page">
        <div class="translate-container">
          <!-- åŸæ–‡åŒº -->
          <div class="text-panel source-panel">
            <div class="panel-header">
              <span class="panel-icon">ğŸ“„</span>
              <span class="panel-title">åŸæ–‡</span>
            </div>
            <div class="panel-content" id="source-text">
              <div class="loading-placeholder">ç­‰å¾…ç¿»è¯‘...</div>
            </div>
          </div>

          <!-- åˆ†éš”ç¬¦ -->
          <div class="divider-line">
            <div class="divider-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </div>
          </div>

          <!-- è¯‘æ–‡åŒº -->
          <div class="text-panel target-panel">
            <div class="panel-header">
              <span class="panel-icon">âœ¨</span>
              <span class="panel-title">è¯‘æ–‡</span>
            </div>
            <div class="panel-content" id="target-text">
              <div class="loading-placeholder">æ­£åœ¨ç¿»è¯‘ä¸­...</div>
            </div>
          </div>

          <!-- è¿”å›æŒ‰é’® -->
          <button class="back-btn" id="back-btn">
            <span>â† è¿”å›é¦–é¡µ</span>
          </button>
        </div>

        <!-- è¿·ä½ è§’è‰² -->
        <div class="mini-character">
          <canvas id="translate-live2d" width="200" height="200"></canvas>
        </div>
      </div>
    </div>

    <!-- åº•éƒ¨çŠ¶æ€æ  -->
    <div id="footer">
      <div class="footer-status">
        <span class="footer-icon">ğŸ’¡</span>
        <span class="footer-text">é€‰ä¸­æ–‡æœ¬æŒ‰å¿«æ·é”®å³å¯ç¿»è¯‘</span>
      </div>
    </div>
  </div>

  <!-- åŠ è½½é®ç½© -->
  <div id="loading-overlay" class="hidden">
    <div class="loading-spinner">
      <div class="spinner"></div>
      <p class="loading-text">AI ç¿»è¯‘ä¸­...</p>
    </div>
  </div>

  <script src="live2d-loader.js"></script>
  <script src="app.js"></script>
</body>
</html>
