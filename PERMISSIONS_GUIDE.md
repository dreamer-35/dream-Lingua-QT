# ğŸ” æƒé™è®¾ç½®æŒ‡å—

## âš ï¸ å¿«æ·é”®ä¸å·¥ä½œ?

æ‰“åŒ…åçš„åº”ç”¨ä½¿ç”¨å…¨å±€å¿«æ·é”®éœ€è¦ macOS çš„**è¾…åŠ©åŠŸèƒ½æƒé™**ã€‚

---

## ğŸ› ï¸ è§£å†³æ–¹æ¡ˆ

### macOS è¾…åŠ©åŠŸèƒ½æƒé™è®¾ç½®

#### æ­¥éª¤ 1: æ‰“å¼€ç³»ç»Ÿåå¥½è®¾ç½®

1. ç‚¹å‡»å±å¹•å·¦ä¸Šè§’çš„  èœå•
2. é€‰æ‹© **ç³»ç»Ÿåå¥½è®¾ç½®** (æˆ– **ç³»ç»Ÿè®¾ç½®**)

#### æ­¥éª¤ 2: è¿›å…¥å®‰å…¨æ€§ä¸éšç§

1. ç‚¹å‡» **å®‰å…¨æ€§ä¸éšç§** (æˆ– **éšç§ä¸å®‰å…¨æ€§**)
2. é€‰æ‹©å·¦ä¾§çš„ **è¾…åŠ©åŠŸèƒ½** (Accessibility)
3. å¦‚æœé”å®š,ç‚¹å‡»å·¦ä¸‹è§’çš„ ğŸ”’ é”å›¾æ ‡è§£é” (éœ€è¦è¾“å…¥å¯†ç )

#### æ­¥éª¤ 3: æ·»åŠ åº”ç”¨æƒé™

1. åœ¨å³ä¾§åˆ—è¡¨ä¸­æŸ¥æ‰¾ **Dream Lingua QT**
2. å¦‚æœå·²å­˜åœ¨,ç¡®ä¿å‹¾é€‰æ¡† **å·²æ‰“å‹¾ âœ“**
3. å¦‚æœä¸å­˜åœ¨:
   - ç‚¹å‡»åˆ—è¡¨ä¸‹æ–¹çš„ **+** æŒ‰é’®
   - æ‰¾åˆ° Applications æ–‡ä»¶å¤¹
   - é€‰æ‹© **Dream Lingua QT.app**
   - ç‚¹å‡» **æ‰“å¼€**
   - ç¡®ä¿æ–°æ·»åŠ çš„åº”ç”¨å·²æ‰“å‹¾ âœ“

#### æ­¥éª¤ 4: é‡å¯åº”ç”¨

1. å®Œå…¨é€€å‡º Dream Lingua QT
2. é‡æ–°å¯åŠ¨åº”ç”¨
3. ç°åœ¨å¿«æ·é”®åº”è¯¥å¯ä»¥å·¥ä½œäº†! ğŸ‰

---

## ğŸ“¸ å›¾æ–‡è¯´æ˜

### ç•Œé¢è·¯å¾„ (macOS Ventura+)

```
ç³»ç»Ÿè®¾ç½®
  â†’ éšç§ä¸å®‰å…¨æ€§
    â†’ è¾…åŠ©åŠŸèƒ½
      â†’ âœ“ Dream Lingua QT
```

### ç•Œé¢è·¯å¾„ (macOS Big Sur/Monterey)

```
ç³»ç»Ÿåå¥½è®¾ç½®
  â†’ å®‰å…¨æ€§ä¸éšç§
    â†’ éšç§
      â†’ è¾…åŠ©åŠŸèƒ½
        â†’ âœ“ Dream Lingua QT
```

---

## ğŸ§ª æµ‹è¯•å¿«æ·é”®

### æµ‹è¯•æ­¥éª¤

1. ç¡®ä¿ Ollama æ­£åœ¨è¿è¡Œ:
   ```bash
   ollama serve
   ```

2. æ‰“å¼€ä»»æ„åº”ç”¨ (å¦‚æµè§ˆå™¨)

3. é€‰ä¸­ä¸€æ®µæ–‡æœ¬:
   ```
   Hello, this is a test translation.
   ```

4. æŒ‰å¿«æ·é”®:
   ```
   Cmd + Shift + E
   ```

5. åº”è¯¥çœ‹åˆ° Dream Lingua QT çª—å£å¼¹å‡ºå¹¶æ˜¾ç¤ºç¿»è¯‘! âœ¨

---

## â“ å¸¸è§é—®é¢˜

### Q1: æˆ‘æ‰¾ä¸åˆ°"è¾…åŠ©åŠŸèƒ½"é€‰é¡¹?

**A**: åœ¨ä¸åŒ macOS ç‰ˆæœ¬ä¸­åç§°å¯èƒ½ä¸åŒ:
- macOS Ventura (13.0+): **éšç§ä¸å®‰å…¨æ€§** â†’ **è¾…åŠ©åŠŸèƒ½**
- macOS Monterey: **å®‰å…¨æ€§ä¸éšç§** â†’ **éšç§** â†’ **è¾…åŠ©åŠŸèƒ½**
- macOS Big Sur: **å®‰å…¨æ€§ä¸éšç§** â†’ **éšç§** â†’ **è¾…åŠ©åŠŸèƒ½**

### Q2: æ·»åŠ åè¿˜æ˜¯ä¸å·¥ä½œ?

**A**: å°è¯•ä»¥ä¸‹æ­¥éª¤:

1. **å®Œå…¨é€€å‡ºåº”ç”¨**:
   - å³é”®ç‚¹å‡» Dock ä¸­çš„åº”ç”¨å›¾æ ‡
   - é€‰æ‹©"é€€å‡º"
   - æˆ–ä½¿ç”¨æ´»åŠ¨ç›‘è§†å™¨å¼ºåˆ¶é€€å‡º

2. **ç§»é™¤å¹¶é‡æ–°æ·»åŠ æƒé™**:
   - åœ¨è¾…åŠ©åŠŸèƒ½åˆ—è¡¨ä¸­é€‰ä¸­ Dream Lingua QT
   - ç‚¹å‡» **-** æŒ‰é’®ç§»é™¤
   - ç‚¹å‡» **+** æŒ‰é’®é‡æ–°æ·»åŠ 

3. **é‡å¯ Mac** (å¦‚æœè¿˜ä¸è¡Œ)

### Q3: åˆ—è¡¨ä¸­æ²¡æœ‰ Dream Lingua QT?

**A**: æ‰‹åŠ¨æ·»åŠ :

1. ç‚¹å‡»è¾…åŠ©åŠŸèƒ½åˆ—è¡¨ä¸‹æ–¹çš„ **+** æŒ‰é’®
2. æŒ‰ `Cmd + Shift + G` æ‰“å¼€"å‰å¾€æ–‡ä»¶å¤¹"
3. è¾“å…¥: `/Applications`
4. æ‰¾åˆ° `Dream Lingua QT.app`
5. ç‚¹å‡»"æ‰“å¼€"

### Q4: æŒ‰å¿«æ·é”®æ²¡ååº”ä½†æƒé™å·²æˆäºˆ?

**A**: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹:

1. **Ollama æ˜¯å¦è¿è¡Œ**:
   ```bash
   curl http://127.0.0.1:11434
   # åº”è¯¥è¿”å›: Ollama is running
   ```

2. **å¿«æ·é”®æ˜¯å¦è¢«å ç”¨**:
   - æ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–åº”ç”¨ä½¿ç”¨ç›¸åŒå¿«æ·é”®
   - å°è¯•å…³é—­å…¶ä»–åº”ç”¨

3. **æŸ¥çœ‹åº”ç”¨æ—¥å¿—**:
   - æ‰“å¼€"æ§åˆ¶å°"åº”ç”¨ (Console.app)
   - æœç´¢ "Dream Lingua"
   - æŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

4. **é‡æ–°ç¼–è¯‘å¹¶æ‰“åŒ…**:
   ```bash
   npm run rebuild
   npm run build:mac
   ```

### Q5: å¼€å‘ç‰ˆæœ¬å¯ä»¥,æ‰“åŒ…ç‰ˆæœ¬ä¸è¡Œ?

**A**: è¿™æ˜¯æ­£å¸¸çš„!

- **å¼€å‘ç‰ˆæœ¬** (`npm start`): 
  - ä½¿ç”¨ Electron è¿›ç¨‹
  - å¯èƒ½å·²ç»æœ‰æƒé™

- **æ‰“åŒ…ç‰ˆæœ¬** (`.app`):
  - ç‹¬ç«‹çš„åº”ç”¨ç¨‹åº
  - éœ€è¦å•ç‹¬æˆæƒ

**è§£å†³æ–¹æ¡ˆ**: æŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤æˆäºˆæƒé™å³å¯ã€‚

---

## ğŸ”§ å¼€å‘è€…è°ƒè¯•

### æ£€æŸ¥æƒé™çŠ¶æ€

åœ¨å¼€å‘æ¨¡å¼ä¸‹æ·»åŠ æƒé™æ£€æŸ¥:

```javascript
// main/shortcuts.js
const ret = globalShortcut.register('CommandOrControl+Shift+E', async () => {
  console.log('å¿«æ·é”®è§¦å‘!')
  // ...
})

if (!ret) {
  console.error('å¿«æ·é”®æ³¨å†Œå¤±è´¥! å¯èƒ½æ˜¯æƒé™é—®é¢˜æˆ–å¿«æ·é”®å†²çª')
}

// æ£€æŸ¥æ˜¯å¦æˆåŠŸæ³¨å†Œ
console.log('å¿«æ·é”®å·²æ³¨å†Œ:', globalShortcut.isRegistered('CommandOrControl+Shift+E'))
```

### æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—

```bash
# æ‰“å¼€æ§åˆ¶å°
open -a Console

# æˆ–ä½¿ç”¨å‘½ä»¤è¡ŒæŸ¥çœ‹æ—¥å¿—
log show --predicate 'process == "Dream Lingua QT"' --last 5m
```

---

## ğŸ“‹ å®Œæ•´æ£€æŸ¥æ¸…å•

åœ¨æŠ¥å‘Šé—®é¢˜å‰,è¯·æ£€æŸ¥:

- [ ] Ollama æœåŠ¡æ­£åœ¨è¿è¡Œ (`ollama serve`)
- [ ] AI æ¨¡å‹å·²ä¸‹è½½ (`ollama pull deepseek-r1:8b`)
- [ ] è¾…åŠ©åŠŸèƒ½æƒé™å·²æˆäºˆ
- [ ] åº”ç”¨å·²å®Œå…¨é‡å¯
- [ ] æ²¡æœ‰å…¶ä»–åº”ç”¨å ç”¨ç›¸åŒå¿«æ·é”®
- [ ] macOS ç‰ˆæœ¬å…¼å®¹ (10.15+)

---

## ğŸ’¡ æ›¿ä»£æ–¹æ¡ˆ

å¦‚æœæƒé™é—®é¢˜æ— æ³•è§£å†³,å¯ä»¥è€ƒè™‘:

### æ–¹æ¡ˆ 1: ä½¿ç”¨èœå•æ è§¦å‘

åœ¨åº”ç”¨ä¸­æ·»åŠ èœå•æ å›¾æ ‡,ç‚¹å‡»è§¦å‘ç¿»è¯‘ã€‚

### æ–¹æ¡ˆ 2: ä½¿ç”¨å‰ªè´´æ¿ç›‘å¬

è‡ªåŠ¨ç›‘å¬å‰ªè´´æ¿å˜åŒ–,å¤åˆ¶æ–‡æœ¬åè‡ªåŠ¨ç¿»è¯‘ã€‚

### æ–¹æ¡ˆ 3: ä½¿ç”¨ä¸åŒçš„å¿«æ·é”®

æŸäº›å¿«æ·é”®å¯èƒ½æ›´å®¹æ˜“è·å¾—æƒé™,å¦‚:
- `Cmd + Option + T`
- `Cmd + Ctrl + E`
- `Fn + F5`

---

## ğŸ¯ æ¨èé…ç½®

### æœ€ä½³å®è·µ

1. **é¦–æ¬¡å®‰è£…åç«‹å³è®¾ç½®æƒé™**
2. **åœ¨é¦–é¡µæ·»åŠ æƒé™æ£€æŸ¥æç¤º**
3. **æä¾›ä¸€é”®è·³è½¬ç³»ç»Ÿè®¾ç½®çš„åŠŸèƒ½**
4. **åœ¨æ–‡æ¡£ä¸­æ˜ç¡®è¯´æ˜æƒé™éœ€æ±‚**

### ç”¨æˆ·ä½“éªŒä¼˜åŒ–

å¯ä»¥åœ¨åº”ç”¨ä¸­æ·»åŠ æƒé™æ£€æµ‹:

```javascript
// æ£€æµ‹æ˜¯å¦æœ‰è¾…åŠ©åŠŸèƒ½æƒé™
const { systemPreferences } = require('electron')

if (process.platform === 'darwin') {
  const status = systemPreferences.isTrustedAccessibilityClient(false)
  if (!status) {
    // æ˜¾ç¤ºæç¤ºå¯¹è¯æ¡†
    dialog.showMessageBox({
      type: 'warning',
      title: 'éœ€è¦æƒé™',
      message: 'è¯·æˆäºˆè¾…åŠ©åŠŸèƒ½æƒé™ä»¥ä½¿ç”¨å¿«æ·é”®',
      buttons: ['æ‰“å¼€ç³»ç»Ÿåå¥½è®¾ç½®', 'ç¨å'],
    })
  }
}
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Electron æƒé™æ–‡æ¡£](https://www.electronjs.org/docs/latest/tutorial/macos-permissions)
- [macOS è¾…åŠ©åŠŸèƒ½](https://support.apple.com/zh-cn/guide/mac-help/mh43185/mac)
- [å…¨å±€å¿«æ·é”®è¯´æ˜](https://www.electronjs.org/docs/latest/api/global-shortcut)

---

## ğŸ†˜ ä»ç„¶æ— æ³•è§£å†³?

1. æŸ¥çœ‹é¡¹ç›® Issues: [GitHub Issues](https://github.com/dreamer-35/dream-lingua-qt/issues)
2. æäº¤æ–° Issue,åŒ…å«:
   - macOS ç‰ˆæœ¬
   - é”™è¯¯æ—¥å¿—
   - å·²å°è¯•çš„è§£å†³æ–¹æ¡ˆ
3. åŠ å…¥è®¨è®º: [GitHub Discussions](https://github.com/dreamer-35/dream-lingua-qt/discussions)

---

**è®°ä½**: è¿™æ˜¯ macOS çš„å®‰å…¨æœºåˆ¶,æ˜¯æ­£å¸¸ä¸”å¿…è¦çš„! ğŸ”

æˆäºˆæƒé™å,å¿«æ·é”®å°±èƒ½å®Œç¾å·¥ä½œäº†! âœ¨

